<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/wine-bottle-solid.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/wine-bottle-solid.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/wine-bottle-solid.svg">
  <link rel="mask-icon" href="/images/wine-bottle-solid.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="An open-source benchmark, VerilogEval.">
<meta property="og:type" content="article">
<meta property="og:title" content="VerilogEval: Evaluating Large Language Models for Verilog Code Generation">
<meta property="og:url" content="http://example.com/2024/12/07/test/index.html">
<meta property="og:site_name" content="DizzyHardSugar&#39;s Blog">
<meta property="og:description" content="An open-source benchmark, VerilogEval.">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-12-06T13:55:33.762Z">
<meta property="article:modified_time" content="2024-12-06T14:44:26.411Z">
<meta property="article:author" content="DizzyHardSugar">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/2024/12/07/test/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>VerilogEval: Evaluating Large Language Models for Verilog Code Generation | DizzyHardSugar's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">DizzyHardSugar's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Notes & Thoughts</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/07/test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="DizzyHardSugar">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="DizzyHardSugar's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          VerilogEval: Evaluating Large Language Models for Verilog Code Generation
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2024-12-07 00:55:33 / Modified: 01:44:26" itemprop="dateCreated datePublished" datetime="2024-12-07T00:55:33+11:00">2024-12-07</time>
            </span>

          
            <div class="post-description">An open-source benchmark, VerilogEval.</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>LLMs have shown impressive capabilities to comprehend and generate human-like text. In the realm of Electronic Design Automation, LLMs have the potential to aid engineers in designing and verifying digital systems, providing insights into Verilog coding, optimizing circuits, and automating time-consuming tasks.<br>Models like fine-tuned CodeGen and ChatGPT has initialed the evaluation of LLMs’ potential in generating Verilog code and solution quality can be improved by simple and effective prompt engineering techniques.<br>However, LLMs’ pretraining phase using unsupervised training loss often lacks alignment with specific tasks, so supervised fine-tuning(SFT) is used to involve task-specific data to adapt to requirements, driving investigation of computationally demanding techniques such as reinforcement learning with human feedback. Acquiring labeled data is also cost-demanding, triggered a growing interest in alternative annotation-free alignment techniques. In the realm of Verilog coding, there remains a notable gap in the exploration of supervised fine-tuning for model enhancement.<br>While there have been attempts to evaluate LLMs for Verilog, prior benchmarks like RTLLM focus on limited tasks or lack diversity in problem sets. They have problems like:</p>
<ol>
<li>lack of diversity(testing variance)</li>
<li>ambiguous problem descriptions</li>
<li>key factors: reliability and automation<br>Hence the paper introduced a open-source benchmark, <strong>VerilogEval</strong>,</li>
<li>A <strong>comprehensive evaluation dataset</strong> for diverse Verilog tasks.</li>
<li><strong>Automated</strong> methods to evaluate the <strong>functional correctness</strong> of generated Verilog code.</li>
<li>Exploring the role of <strong>supervised fine-tuning (SFT)</strong> to improve LLMs’ Verilog generation performance.</li>
</ol>
<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><h3 id="1-Evaluation-Framework-A-Verilog-Evaluation-Set-and-Evaluate-Metrics"><a href="#1-Evaluation-Framework-A-Verilog-Evaluation-Set-and-Evaluate-Metrics" class="headerlink" title="1. Evaluation Framework: A Verilog Evaluation Set and Evaluate Metrics"></a>1. Evaluation Framework: A Verilog Evaluation Set and Evaluate Metrics</h3><p>They created a dataset with <strong>156 diverse problems</strong> from HDLBits, covering tasks from simple combinational circuits to complex finite state machines, code debugging, and testbench construction.<br>Used two methods to generate problem descriptions, <strong>Verilog-human</strong> and <strong>Verilog-machine</strong>. <strong>VerilogEval-human</strong> is manually curated descriptions from HDLBits problems, <strong>VerilogEval-machine</strong> is Machine-generated descriptions using GPT-3.5.<br>The machine version are often more verbose, and also frequently delve into low-level details, tending to mirror the code’s implementation line by line, rather than focusing on the overarching functionality of the circuit.<br>For <strong>Automated Evaluation Framework</strong>, the paper uses <strong>functional correctness</strong> testing to validate the generated Verilog code by simulating its behavior and comparing results with a golden solution. They also combines deterministic and randomized test patterns to ensure robustness.<br>For <strong>Evaluation metric</strong>, the paper tried to use BLEU score, but recent works showed that it does not correlate well with functional correctness. This is because BLEU calculates similarity by comparing the n-grams (contiguous sequences of n words) between the generated text and the reference text, it only measures syntactic similarity, even if the generated code does not exactly match the reference code, it may still perform the same function.<br>Instead they use pass@k score, evaluates the likelihood of generating at least one correct solution among kkk attempts.</p>
<h3 id="2-Supervised-Fine-tuning"><a href="#2-Supervised-Fine-tuning" class="headerlink" title="2. Supervised Fine-tuning"></a>2. Supervised Fine-tuning</h3><p>They generated synthetic training data by pairing Verilog modules from GitHub with corresponding problem descriptions created by LLMs. Fine-tuned LLMs on this synthetic dataset to improve task alignment.<br>Base-models:</p>
<ul>
<li>codegen-nl: Natural language model. Trained on ThePile 825.18GB English text corpus.</li>
<li>codegen-multi: Code model. Initialized from codegen-nl and continue trained on BigQuery multi- lingual code dataset consisting of C, C++, Go, Java, JavaScript, and Python.</li>
<li>codegen-verilog: Verilog code model. Initialized from codegen-multi and continue trained on ∼300MB of Github Verilog and 400MB of textbook data.</li>
</ul>
<h2 id="Results"><a href="#Results" class="headerlink" title="Results:"></a>Results:</h2><ul>
<li>More capable and larger models generally result in better Verilog coding capabilities.</li>
<li>Synthetically generated data yields notable enhancements in downstream model perfor- mance.</li>
<li>In the case of verilog models, VerilogEval- machine exhibited significant performance gains, whereas the VerilogEval-human approach displayed comparatively less improvement and, at times, even slight deteriorations.</li>
<li>Increasing SFT (and Verilog pretraining) data diversity and quality would further lead to increased performance.<br>Overall,</li>
<li><strong>Baseline Performance</strong>:<ul>
<li>GPT-4 outperformed GPT-3.5 across both datasets.</li>
<li>Fine-tuned CodeGen models showed significant improvement over base models, particularly for VerilogEval-machine.</li>
</ul>
</li>
<li><strong>Impact of Fine-Tuning</strong>:<ul>
<li>Supervised fine-tuning on the synthetic dataset improved performance but highlighted issues of overfitting and limited generalizability to human-crafted problems.</li>
<li>Fine-tuned models achieved comparable performance to GPT-3.5 but required less computational effort.</li>
</ul>
</li>
<li><strong>Model Scaling</strong>:<ul>
<li>Larger models (e.g., CodeGen-16B) consistently outperformed smaller ones.</li>
<li>Base models pre-trained on Verilog data (CodeGen-verilog) showed better alignment with VerilogEval tasks.</li>
</ul>
</li>
</ul>
<h2 id="Weakness"><a href="#Weakness" class="headerlink" title="Weakness"></a>Weakness</h2><ul>
<li><strong>Limited Scope</strong>:<ul>
<li>The benchmark evaluates standalone Verilog modules and does not address critical aspects like <strong>module instantiation</strong> or <strong>system-level design</strong>, which are essential in real-world hardware projects.</li>
</ul>
</li>
<li><strong>Synthetic Data Limitations</strong>:<ul>
<li>Machine-generated descriptions lack the diversity and nuance of human-crafted examples, which may hinder generalizability.</li>
</ul>
</li>
<li><strong>Functional Testing Only</strong>:<ul>
<li>The evaluation framework does not consider <strong>synthesizability</strong> or <strong>performance metrics</strong> (e.g., power, performance, and area optimizations) of the generated circuits.</li>
</ul>
</li>
<li><strong>Overfitting Risk</strong>:<ul>
<li>Fine-tuning on synthetic data risks overfitting, as models may learn dataset-specific patterns rather than general principles.</li>
</ul>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">

        


        
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Motivation"><span class="nav-number">1.</span> <span class="nav-text">Motivation</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Methods"><span class="nav-number">2.</span> <span class="nav-text">Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Evaluation-Framework-A-Verilog-Evaluation-Set-and-Evaluate-Metrics"><span class="nav-number">2.1.</span> <span class="nav-text">1. Evaluation Framework: A Verilog Evaluation Set and Evaluate Metrics</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Supervised-Fine-tuning"><span class="nav-number">2.2.</span> <span class="nav-text">2. Supervised Fine-tuning</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Results"><span class="nav-number">3.</span> <span class="nav-text">Results:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Weakness"><span class="nav-number">4.</span> <span class="nav-text">Weakness</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">DizzyHardSugar</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">1</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-eye"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">DizzyHardSugar</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  













<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

  

</body>
</html>
